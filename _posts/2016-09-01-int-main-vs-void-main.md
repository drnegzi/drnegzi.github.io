---
layout: post
title: int main vs. void main
category: [عمومی]
tags: [برنامه نویسی, cpp]
date: 2016-08-23 00:08:00 +0330
published: true
permalink: /posts/int-main-vs-void-main
summary: آیا از وجود رباتی در تلگرام که وظیفه دخیره و ثبت کردن پیام‌های رد و بدل شده در کانال‌ها و گروه‌ها را دارد باخبرید؟
excerpt_separator: <!--more--> 
uuid: d8b47e35-602d-48a8-94e2-428c4fcdd4e0
comments: true
series: 
description: ربات‌های زیادی در تلگرام زندگی می‌کند، اما آیا از وجود یک ربات که وظیفه ذخیره پیام‌های ارسال شده در گروه‌ها و کانال‌های تلگرامی را که در آنها عضو است، را دارد نیز باخبرید؟ آیا می‌دانستید این پیام‌ها روی یک سایت به نمایش در می‌آیند؟
---
حدود چند هفته پیش در محل کار، با یکی از همکاران این بحث پیش اومد که آیا در بدنه structها در ++C می‌توان به تعریف توابع پرداخت یا خیر. هر چند که همکارم با وجود ادعایی که درباره میزان آشنایی خودش با زبان‌های برنامه نویسی مختلف داره، از وجود همچین قابلیتی در ++C مطلع نبود، بلکه حتی وقتی که وی قصد داشت تا کدی برای اثبات این موضوع که نمی‌توان در ++C داخل structها تابع تعریف کرد، بنویسد، کد خود را بدون کاراکتری دخل و تصرف به شکل زیر آغاز کرد!
<div class="ltr-direction font-family-consolas">
<pre class="brush: cpp">
void main()
</pre>
</div>
واقعا دیگه حتی برام مقدور نیست که کوچکترین خیال پردازی یا تصوری در مورد میزان آشنایی این همکارم حتی با پیش پا افتاده‌ترین زبان‌های برنامه نویسی داشته باشم.
اما موضوع اساسیی که اینجا مطرح می‌شه و ممکنه برای خیلی‌های دیگه هم مورد سوال یا ایجاد سردرگمی باشه، اینکه، کدوم یکی از برنامه‌های زیر درست هستند؟ اولی یا دومی؟
<div class="ltr-direction font-family-consolas">
<pre class="brush: cpp">
int main()
{
   return 0;
}
</pre>
</div>
و یا
<div class="ltr-direction font-family-consolas">
<pre class="brush: cpp">
int main(
{
   // No return statement...
}
</pre>
</div>
و
<div class="ltr-direction font-family-consolas">
<pre class="brush: cpp">
void main(
{
   // Code goes here...
}
</pre>
</div>
<span class="number-box">۱</span>
قطعا اولین سوالی که مطرح میشه مربوط به تفاوت بین <span class="highlight-text">()int main</span> و <span class="highlight-text">()void main</span> میشه!

جواب خیلی ساده است! اگر دم دست من باشید، استفاده از یکی از این دو، به قیمت جونتون تموم میشه.

<span class="number-box">۲</span>
احتمالا حالا به این فکر می‌کنید اگر از هر دو روش میشه استفاده کرد، پس حتما تفاوتی وجود داره؛ ولی خب... این تفاوت قراره به قیمت جونمون تموم شه... پس حالا کدوم بهتره؟ و چرا؟

باید در نظر داشته باشیم که سوال پرسیدن در مورد <span class="highlight-text">مزیت</span> این روش به همدیگه اصن درست نیست، بلکه سوال اصلی و موضوع مورد بحت سر این دو روش، بر سر <span class="highlight-text">مجاز بودن</span> یکی از این روش‌هاست.

تاکید می‌کنم که تنها <span class="highlight-text">()int main</span> طبق استاندارد C و ++C مجازه.

<span class="number-box">۳</span>
قطعا افرادی در پیدا می‌شن که بگن، پس چرا بعضی از کامپیالرها اجازه به استفاده از <span class="highlight-text">()void main</span> میدن؟

جواب این سوال هم ساده است، مشکل از جاییست که متاسفانه هنوز جایی در استاندارهای C و ++C اجازه تیراندازی به نویسندگان همچین دست از کامپایلرهایی داده نشد.

راجع به روش دوم و استفاده از ()int main و بدون برگرداندن یک مقدار عددی صحیح هم این نکته وجود داره که باز هم بعضی از کامپیالرها در شرایطی که شما عبارت <span class="highlight-text">;return x</span> رو جا انداخته باشید، به طور اتوماتیک این عبارت رو به انتهای تابع main برنامه اضافه می‌کنند، اما هم کسی که این خط رو جا می‌ندازه و هم نویسنده کامپیالری که زیر سیبیلی رد می‌کنه این موضوع رو هم باز باید مجازات کرد.

خب، پس طبق استاندارد ANSI این موضوع مختومه است و جای صحبتی باقی نیست، ولی اگر کسی علاقه به مشاهده مثالی داشت، که در اون، استفاده از ()void main در یک برنامه، باعث بروز مشکلاتی میشه، می‌تونه به [اینجا](https://www.ty-penguin.org.uk/~auj/voidmain/) سر بزنه.
